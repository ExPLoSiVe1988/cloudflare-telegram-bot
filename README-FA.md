<!-- English README link -->
<div align="left">
  <a href="README.md">🇬🇧 English Version</a>
</div>

# ربات تلگرامی کلادفلر

یک ربات تلگرامی قدرتمند و حرفه‌ای که به عنوان یک پنل کنترل کامل برای مدیریت رکوردهای DNS در حساب کلادفلر شما عمل می‌کند. با قابلیت‌های پیشرفته مانند پشتیبانی از چند دامنه، جستجوی فوری و عملیات گروهی، این ربات مدیریت DNS را به تجربه‌ای سریع و آسان تبدیل می‌کند.

---

## ✨ قابلیت‌ها

### قابلیت‌های کلیدی
*   **پشتیبانی از چند دامنه (Multi-Zone):** ربات به طور خودکار تمام دامنه‌های (Zone) موجود در حساب کلادفلر شما را شناسایی کرده و به شما امکان می‌دهد بین آن‌ها جابجا شده و دامنه‌های مختلف را مدیریت کنید.
*   **مدیریت کامل رکوردها:** مشاهده، ویرایش، ساخت و حذف انواع رکوردهای DNS.
*   **تاییدیه عملیات حساس:** برای عملیات‌های حیاتی مانند حذف یا ویرایش، یک مرحله تأیید نهایی برای جلوگیری از خطاهای سهوی وجود دارد.
*   **پشتیبان‌گیری و بازیابی:** از تمام رکوردهای یک دامنه مشخص فایل بکاپ `json.` تهیه کرده و بعداً آن را بازیابی کنید. ربات به صورت هوشمند از ثبت رکوردهای تکراری جلوگیری می‌کند.
*   **اطلاع‌رسانی اسکریپت:** پس از نصب یا آپدیت موفق از طریق اسکریپت، پیامی در تلگرام دریافت کنید.

### 🚀 قابلیت‌های پیشرفته و کاربرپسند
*   **🌐 پشتیبانی از دو زبان:** ربات کاملاً دوزبانه است و تمام رابط کاربری خود را به دو زبان **فارسی** و **انگلیسی** ارائه می‌دهد. با دستور `/language` می‌توانید هر زمان که خواستید زبان را تغییر دهید.
*   **🗂 صفحه‌بندی (Pagination):** با لیست‌های طولانی خداحافظی کنید! رکوردها در صفحات منظم دسته‌بندی شده و با دکمه‌های `▶️ بعدی` و `◀️ قبلی` به راحتی قابل پیمایش هستند.
*   **🔎 جستجوی فوری:** با دستور `/search`، تنها با تایپ بخشی از نام یک رکورد، آن را در یک لحظه پیدا کنید.
*   **☁️ تغییر وضعیت پروکسی:** وضعیت پروکسی کلادفلر (ابر نارنجی/خاکستری) را برای رکوردهای A یا AAAA مستقیماً از طریق منوی ربات و با یک کلیک تغییر دهید.
*   **👥 عملیات گروهی (Bulk Actions):** با ورود به حالت `/bulk`، چندین رکورد را انتخاب کرده (`✅`) و یک عملیات (مانند حذف یا تغییر IP) را روی همه آن‌ها به صورت همزمان اجرا کنید.
*   **🕹 ناوبری روان:** با دکمه `↩️ بازگشت` در تمام زیرمنوها، به سرعت و بدون نیاز به تایپ مجدد دستورات، به صفحه قبل برگردید.

## ⚙️ نصب و راه‌اندازی

### پیش‌نیازها
*   یک سرور لینوکس (اوبونتو، دبیان، سنت‌او‌اس و...)
*   ابزارهای `curl` و `bash` (معمولاً نصب هستند)
*   `python3` و `pip`
*   `pm2` برای مدیریت پردازش (اسکریپت نصب، آن را برای شما نصب می‌کند)

### ۱. اجرای اسکریپت نصب
دستور زیر را در ترمینال سرور خود اجرا کنید:
```bash
bash <(curl -s https://raw.githubusercontent.com/ExPLoSiVe1988/cloudflare-telegram-bot/main/install.sh)
```
اسکریپت شما را در مراحل نصب، بروزرسانی یا حذف کامل راهنمایی خواهد کرد.

### ۲. گزینه‌های داخل اسکریپت
| عملکرد | گزینه |
|:---|:---|
| نصب کامل ربات | `Install Bot` |
| بروزرسانی ربات از گیت‌هاب | `Update Bot` |
| حذف کامل ربات و فایل‌ها | `Delete Bot` |
| خروج | `Exit` |

### ۳. اطلاعات مورد نیاز
در حین نصب، اسکریپت متغیرهای زیر را از شما درخواست می‌کند که در فایلی به نام `.env` ذخیره خواهند شد:

| متغیر | توضیح |
|:---|:---|
| `CF_API_TOKEN` | توکن API کلادفلر (با دسترسی ویرایش DNS). |
| `TELEGRAM_BOT_TOKEN` | توکن ربات تلگرام شما (دریافتی از @BotFather). |
| `TELEGRAM_ADMIN_ID` | آیدی عددی اکانت تلگرام ادمین (خودتان). |
> **نکته:** نیازی به وارد کردن نام دامنه **نیست**. ربات به صورت خودکار تمام دامنه‌های فعال در حساب شما را دریافت می‌کند.

---

## 🤖 روش استفاده از ربات

### دستورات ربات
| دستور | توضیح |
|:---|:---|
| `/start` | شروع به کار ربات و نمایش منوی انتخاب زبان. |
| `/language` | تغییر زبان ربات (فارسی/انگلیسی). |
| `/list` | دستور اصلی برای انتخاب دامنه و مشاهده رکوردهای DNS آن. |
| `/search`| جستجوی رکوردها در دامنه انتخاب شده فعلی. |
| `/bulk` | ورود به حالت عملیات گروهی برای دامنه انتخاب شده. |
| `/add` | شروع فرآیند افزودن یک رکورد DNS جدید به دامنه انتخاب شده. |
| `/backup` | تهیه نسخه پشتیبان از تمام رکوردهای DNS دامنه انتخاب شده. |
| `/restore`| بازگردانی رکوردها از فایل پشتیبان به دامنه انتخاب شده. |


### ایجاد API Token در Cloudflare
| گام | توضیحات |
|:---|:---|
| **۱** | وارد حساب Cloudflare خود شده و به آدرس زیر بروید: https://dash.cloudflare.com/profile/api-tokens |
| **۲** | روی `Create Token` کلیک کنید. |
| **۳** | از قالب آماده‌ی `Edit zone DNS` استفاده کنید، یا یک توکن سفارشی با این دسترسی‌ها بسازید: <br> • **Permissions:** `Zone` > `DNS` > `Edit` <br> • **Zone Resources:** `Include` > `All zones` |
| **۴** | توکن API تولیدشده را کپی کرده و ذخیره کنید. در هنگام نصب به آن نیاز خواهید داشت. |

### مدیریت با PM2
اسکریپت نصب از PM2 برای روشن نگه داشتن ربات استفاده می‌کند.
| دستور | کاربرد |
|:---|:---|
| `pm2 logs cfbot` | مشاهده لاگ‌های زنده ربات برای خطایابی. |
| `pm2 restart cfbot`| ری‌استارت دستی ربات پس از اعمال تغییرات. |


-----

### 👨‍💻 توسعه‌دهنده
*   GitHub: [@ExPLoSiVe1988](https://github.com/ExPLoSiVe1988)
*   Telegram: [t.me/H_ExPLoSiVe](https://t.me/H_ExPLoSiVe)

-----

### 💖 حمایت مالی (Donate)
اگر این پروژه برای شما مفید بوده است، با حمایت مالی خود به توسعه آن کمک کنید:

| Cryptocurrency | Address |
|:---|:---|
| 🟣 **اتریوم (ETH - ERC20)** | `0x157F3Eb423A241ccefb2Ddc120eF152ce4a736eF` |
| 🔵 **ترون (TRX - TRC20)** | `TEdu5VsNNvwjCRJpJJ7zhjXni8Y6W5qAqk` |
| 🟢 **تتر (USDT - TRC20)** | `TN3cg5RM5JLEbnTgK5CU95uLQaukybPhtR` |

🙏 از حمایت شما سپاسگزارم! 🚀
