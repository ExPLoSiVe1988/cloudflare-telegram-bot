<!-- English README link -->
<div align="left">
  <a href="README.md">🇬🇧 English Version</a>
</div>
<!-- Chinese README link -->

<div align="left">
  <a href="README-CH.md">🇨🇳 中文版</a>
</div>

# ربات مدیریت کلادفلر 🐳
یک ربات تلگرامی قدرتمند، **چند کاربره** و **چند اکانته** برای مدیریت کامل رکوردهای DNS کلودفلر. این نسخه به طور کامل با **داکر (Docker)** ارائه شده تا نصب، اجرا و مدیریت آن فوق‌العاده ساده، سریع و ایزوله باشد.

---
<div align="center">
  <a href="https://www.youtube.com/watch?v=OOQ9rtHqeFQ" target="_blank">
    <img src="https://img.youtube.com/vi/OOQ9rtHqeFQ/hqdefault.jpg" alt="ویدیوی آموزش کامل" width="320">
  </a>
  <p><strong>برای مشاهده ویدیوی کامل آموزش، روی تصویر بالا کلیک کنید</strong></p>
</div>

## ✨ قابلیت‌ها
*   **👥 پشتیبانی از چند ادمین:** به چندین کاربر تلگرام اجازه دهید تا ربات را مدیریت کنند.
*   **🏢 پشتیبانی از چند اکانت:** رکوردهای DNS را در چندین اکانت مختلف کلادفلر، هر کدام با توکن API مخصوص به خود، مدیریت کنید.
*   **🐳 نصب آسان با داکر:** ربات را با یک اسکریپت نصب تمام اتوماتیک در چند دقیقه راه‌اندازی کنید.
*   **🌐 پشتیبانی از چند دامنه:** شناسایی خودکار تمام دامنه‌های موجود در اکانت کلادفلر انتخاب شده.
*   **👥 عملیات گروهی:** چندین رکورد را انتخاب کرده و به صورت همزمان حذف یا IP آن‌ها را تغییر دهید.
*   **💾 پشتیبان‌گیری و بازیابی:** از رکوردهای هر یک از دامنه‌های خود بکاپ `json.` تهیه و بازیابی کنید.
*   **🌍 دو زبانه:** پشتیبانی کامل از زبان‌های فارسی و انگلیسی.

---

<div align="center">
  <h3>💖 حمایت از پروژه</h3>
  <p>اگر این پروژه برای شما مفید بوده است، لطفاً با دادن یک ستاره در گیت‌هاب از آن حمایت کنید!</p>
  <a href="https://github.com/ExPLoSiVe1988/cloudflare-telegram-bot/stargazers">
    <img src="https://img.shields.io/github/stars/ExPLoSiVe1988/cloudflare-telegram-bot?style=for-the-badge&logo=github&color=FFDD00&logoColor=black" alt="به پروژه در گیت‌هاب ستاره دهید">
  </a>
</div>

---

## 🚀 نصب و راه‌اندازی

این ربات برای اجرا با داکر طراحی شده است. اسکریپت ارائه شده، تمام مراحل راه‌اندازی را به صورت خودکار انجام می‌دهد.

### پیش‌نیازها
*   یک سرور لینوکس (توصیه: اوبونتو/دبیان).
*   ابزارهای `git` و `curl` (معمولاً از پیش نصب هستند).

### نصب اتوماتیک
دستور زیر را در ترمینال سرور خود اجرا کنید. اسکریپت همه کارها، شامل نصب داکر در صورت نیاز را، انجام خواهد داد.
```bash
bash <(curl -s https://raw.githubusercontent.com/ExPLoSiVe1988/cloudflare-telegram-bot/main/install.sh)
```
اسکریپت یک منوی مدیریتی کامل در اختیار شما قرار می‌دهد:
*   **Install Bot:** ریپازیتوری را دانلود کرده، از شما می‌خواهد تا چندین ادمین و اکانت کلادفلر را اضافه کنید و ربات را با Docker Compose اجرا می‌کند.
*   **Update Bot:** آخرین نسخه کد را از گیت‌هاب دریافت کرده، ایمیج داکر را مجدداً بیلد می‌کند و از شما می‌پرسد که آیا قصد ویرایش تنظیمات را دارید یا نه.
*   **Edit Configuration:** یک منوی اختصاصی برای افزودن یا حذف ادمین‌ها و اکانت‌های کلادفلر در هر زمان.
*   **View Live Logs:** لاگ‌های زنده ربات را برای نظارت نمایش می‌دهد.
*   **Remove Bot Completely:** کانتینر را متوقف کرده و تمام داده‌ها، کانتینرها و ایمیج‌های مرتبط را حذف می‌کند.

---

## ⚙️ تنظیمات

اسکریپت نصب یک فایل `.env` با ساختار زیر برای شما ایجاد می‌کند. شما می‌توانید بعداً با استفاده از گزینه "Edit Configuration" در اسکریپت، آن را مدیریت کنید.

*   `TELEGRAM_ADMIN_IDS`: لیستی از آیدی‌های عددی کاربران تلگرام (جدا شده با کاما) که مجاز به استفاده از ربات هستند.
*   `CF_ACCOUNTS`: لیستی از اکانت‌های کلادفلر شما (جدا شده با کاما) با فرمت `Nickname1:Token1,Nickname2:Token2`. نیک‌نیم یک نام دلخواه است که شما برای هر اکانت انتخاب می‌کنید.
*   `TELEGRAM_BOT_TOKEN`: توکن API ربات تلگرام شما از @BotFather.

---

## 🤖 مدیریت ربات

اگر ترجیح می‌دهید مستقیماً از دستورات استفاده کنید، وارد پوشه پروژه (`cloudflare-telegram-bot`) شده و از دستورات `docker-compose` زیر استفاده کنید:

| عملکرد | دستور |
| :--- | :--- |
| **مشاهده لاگ زنده** | `docker-compose logs -f` |
| **آپدیت به آخرین نسخه** | `docker-compose pull && docker-compose up -d` |
| **توقف و حذف کانتینر** | `docker-compose down` |

---

### دسترسی‌های مورد نیاز توکن API
برای هر اکانت کلادفلر، توکن API شما به دسترسی‌های زیر نیاز دارد:

| نوع (Type) | منبع (Resource) | دسترسی (Access) |
| :--- | :--- | :--- |
| **Zone** | **DNS** | `Edit` |
| **Zone** | **Zone** | `Read` |

به صفحه [API Tokens](https://dash.cloudflare.com/profile/api-tokens) بروید و یک توکن سفارشی با این دو دسترسی که برای `All zones` فعال شده باشد، بسازید.

---

## 🔄 راهنمای مهاجرت برای کاربران قدیمی (از نسخه PM2)

این نسخه ساختار ربات را به طور کامل به **داکر** و یک سیستم چند اکانته جدید تغییر داده است. نصب قدیمی با این نسخه سازگار نیست. برای ارتقا، باید یک نصب تمیز انجام دهید.

**مرحله ۱: حذف کامل نسخه قدیمی**
```bash
pm2 delete cfbot && pm2 save && cd ~ && rm -rf cloudflare-telegram-bot
```

**مرحله ۲: نصب نسخه جدید**
کافیست دستور نصب جدید را اجرا کنید:
```bash
bash <(curl -s https://raw.githubusercontent.com/ExPLoSiVe1988/cloudflare-telegram-bot/main/install.sh)
```
اسکریپت جدید شما را در فرآیند نصب تازه (شامل تنظیم چند ادمین و چند اکانت) راهنمایی خواهد کرد.

---
### 👨‍💻 توسعه‌دهنده و حمایت مالی
*   گیت‌هاب: [@ExPLoSiVe1988](https://www.google.com/url?sa=E&q=https%3A%2F%2Fgithub.com%2FExPLoSiVe1988%2Fcloudflare-telegram-bot)
*   تلگرام: [@H_ExPLoSiVe](https://t.me/H_ExPLoSiVe)
*   کانال تلگرام: [@Botgineer](https://t.me/Botgineer)
---
### 💖 حمایت مالی (Donate)
اگر این پروژه برای شما مفید بوده است، با حمایت مالی خود به توسعه آن کمک کنید:

| نوع ارز | آدرس |
|:---|:---|
| 🟣 **اتریوم (ETH - ERC20)** | `0x157F3Eb423A241ccefb2Ddc120eF152ce4a736eF` |
| 🔵 **ترون (TRX - TRC20)** | `TEdu5VsNNvwjCRJpJJ7zhjXni8Y6W5qAqk` |
| 🟢 **تتر (USDT - TRC20)** | `TN3cg5RM5JLEbnTgK5CU95uLQaukybPhtR` |

🙏 از حمایت شما سپاسگزارم! 🚀
