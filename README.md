# Cloudflare Telegram Bot

یک ابزار قدرتمند و حرفه‌ای برای مدیریت کامل رکوردهای DNS کلودفلر، مستقیماً از طریق تلگرام. با قابلیت‌های پیشرفته مانند جستجوی فوری، عملیات گروهی و تغییر وضعیت پروکسی، این ربات فراتر از یک ابزار ساده و به یک دستیار مدیریتی کامل تبدیل شده است.

---

<!--  پیشنهاد: یک ویدیوی کوتاه یا GIF از محیط ربات در اینجا قرار دهید تا کاربران قابلیت‌ها را به صورت بصری ببینند -->
<!-- <p align="center">
  <img src="link/to/your/demo.gif" alt="Bot Demo">
</p> -->

## قابلیت‌ها

### مدیریت پایه
*   **مدیریت کامل رکوردها:** مشاهده، ویرایش، ساخت و حذف انواع رکوردهای DNS.
*   **تاییدیه عملیات حساس:** برای حذف یا ویرایش، یک مرحله تأیید نهایی برای جلوگیری از خطا وجود دارد.
*   **پشتیبان‌گیری و بازیابی:** از تمام رکوردهای خود یک فایل بکاپ `json` تهیه کرده و در زمان نیاز آن را بازیابی کنید.
*   **اطلاع‌رسانی سیستمی:** دریافت پیام در تلگرام پس از نصب یا آپدیت موفق ربات.

### ✨ قابلیت‌های پیشرفته (نسخه 1.1.0)
*   **🗂 صفحه‌بندی (Pagination):** خداحافظی با لیست‌های طولانی! رکوردها اکنون در صفحات منظم نمایش داده می‌شوند و با دکمه‌های `▶️ بعدی` و `◀️ قبلی` به راحتی قابل پیمایش هستند.
*   **🔎 جستجوی فوری:** با دستور `/search`، تنها با تایپ بخشی از نام یک رکورد، آن را در یک لحظه پیدا کنید.
*   **☁️ تغییر وضعیت پروکسی:** وضعیت پروکسی کلادفلر (ابر نارنجی/خاکستری) را برای هر رکورد مستقیماً از طریق منوی ربات و با یک کلیک تغییر دهید.
*   **👥 عملیات گروهی (Bulk Actions):** با ورود به حالت `/bulk`، چندین رکورد را انتخاب کرده (`✅`) و یک عملیات (مانند حذف) را روی همه آن‌ها به صورت همزمان اجرا کنید.
*   **🕹 ناوبری روان:** با دکمه `↩️ بازگشت` در تمام منوها، به سرعت و بدون نیاز به تایپ مجدد دستور، به لیست اصلی برگردید.


## ⚙️ نصب و راه‌اندازی

### اجرای اسکریپت نصب
کد زیر را در ترمینال سرور خود اجرا کنید:
```bash
bash <(curl -s https://raw.githubusercontent.com/ExPLoSiVe1988/cloudflare-telegram-bot/main/install.sh)
```

### گزینه‌های داخل اسکریپت
| عملکرد | گزینه |
|:---|:---|
| نصب کامل ربات | `Install Bot` |
| بروزرسانی ربات از گیت‌هاب | `Update Bot` |
| حذف کامل ربات و فایل‌ها | `Delete Bot` |
| خروج | `Exit` |


## دستورات ربات
| دستور | توضیح |
|:---|:---|
| `/list` | ورود به منوی اصلی و نمایش لیست رکوردها (با صفحه‌بندی) |
| `/search`| جستجوی یک رکورد بر اساس نام |
| `/bulk` | ورود به حالت عملیات گروهی (انتخاب چندتایی) |
| `/add` | شروع فرآیند ثبت ساب‌دامین جدید |
| `/backup` | بکاپ گرفتن از کل رکوردها |
| `/restore`| بازگردانی رکوردهای پاک شده |


## اطلاعات مورد نیاز برای نصب
| متغیر | توضیح |
|:---|:---|
| `CF_API_TOKEN` | توکن API کلودفلر (با دسترسی ویرایش DNS) |
| `CF_TOKEN_NAME` | نام دامنه اصلی (مثلاً `example.com`) |
| `TELEGRAM_BOT_TOKEN` | توکن ربات تلگرام (از BotFather@) |
| `TELEGRAM_ADMIN_ID` | آیدی عددی اکانت تلگرام ادمین |


### ایجاد API Token در Cloudflare
| گام | توضیحات |
|:---|:---|
| **۱** | وارد حساب Cloudflare خود شوید: https://dash.cloudflare.com/profile/api-tokens |
| **۲** | روی `Create Token` کلیک کنید. |
| **۳** | از قالب آماده‌ی `Edit zone DNS` استفاده کنید یا یک توکن سفارشی با دسترسی‌های زیر بسازید: <br> • **Permissions:** `Zone` > `DNS` > `Edit` <br> • **Zone Resources:** `Include` > `All zones` (یا فقط دامنه‌های مورد نظر) |
| **۴** | API Token تولیدشده را کپی کرده و در جایی امن ذخیره کنید. |


## مدیریت با PM2
ربات به صورت خودکار با PM2 اجرا می‌شود.
| دستور | کاربرد |
|:---|:---|
| `pm2 logs cfbot` | مشاهده لاگ زنده ربات |
| `pm2 restart cfbot`| ری‌استارت دستی ربات |


-----

### 👨‍💻 توسعه‌دهنده
*   GitHub: [@ExPLoSiVe1988](https://github.com/ExPLoSiVe1988)
*   Telegram: [t.me/H_ExPLoSiVe](https://t.me/H_ExPLoSiVe)

-----

### 💖 حمایت مالی (Donate)
اگر این پروژه برای شما مفید بوده است، با حمایت مالی خود به توسعه آن کمک کنید:

| Cryptocurrency | Address |
|:---|:---|
| 🟣 **Ethereum (ETH - ERC20)** | `0x157F3Eb423A241ccefb2Ddc120eF152ce4a736eF` |
| 🔵 **Tron (TRX - TRC20)** | `TEdu5VsNNvwjCRJpJJ7zhjXni8Y6W5qAqk` |
| 🟢 **Tether (USDT - TRC20)** | `TN3cg5RM5JLEbnTgK5CU95uLQaukybPhtR` |

🙏 از حمایت شما سپاسگزارم! 🚀
